--- grbl-master/serial.h	2015-07-31 20:50:20.973383928 -0700
+++ grbl-master/serial.h	2015-07-31 20:51:33.416032389 -0700
@@ -22,27 +22,8 @@
 #ifndef serial_h
 #define serial_h
 
-
-#ifndef RX_BUFFER_SIZE
-  #define RX_BUFFER_SIZE 128
-#endif
-#ifndef TX_BUFFER_SIZE
-  #define TX_BUFFER_SIZE 64
-#endif
-
 #define SERIAL_NO_DATA 0xff
 
-#ifdef ENABLE_XONXOFF
-  #define RX_BUFFER_FULL 96 // XOFF high watermark
-  #define RX_BUFFER_LOW 64 // XON low watermark
-  #define SEND_XOFF 1
-  #define SEND_XON 2
-  #define XOFF_SENT 3
-  #define XON_SENT 4
-  #define XOFF_CHAR 0x13
-  #define XON_CHAR 0x11
-#endif
-
 void serial_init();
 
 // Writes one byte to the TX serial buffer. Called by main program.
@@ -61,4 +42,6 @@
 // NOTE: Not used except for debugging and ensuring no TX bottlenecks.
 uint8_t serial_get_tx_buffer_count();
 
+int serial_rx_hook(uint8_t data);
+
 #endif
